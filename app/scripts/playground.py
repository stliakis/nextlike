import sys

from sqlalchemy import select, text

from app.db.session import Database
from app.models import Item
from app.recommender.collaborative_engine import CollaborativeEngine
from app.recommender.similarity_engine import SimilarityEngine
from app.recommender.types import RecommendedItem
from app.utils.json_filter_query import build_query_string_and_params

vector = [0.0177158, 0.0057434784, -0.026317535, -0.015450766, -0.0070849718, 0.028744359, -0.033921577, -0.01713606,
          -0.0128419325, -0.033166565, 0.014116014, 0.03624054, 0.0082849, -0.032762095, -0.008406241, -0.008662406,
          0.016542837, -0.016839448, 0.006586125, 0.01426432, -0.02939151, -0.014102532, -0.008089406, -0.02236721,
          0.0017409077, 0.01196558, 0.01443959, -0.02025048, -0.018201165, -0.01323292, 0.0141699435, -0.03036224,
          -0.0034649624, -0.01891573, -0.009147771, 0.0020560576, -0.010152205, -0.0042233444, 0.016758554,
          -0.0184034, 0.0064715254, 0.0065692724, -0.0073815836, -0.00076006714, 0.00038551076, -0.0064108544,
          -0.0014510372, -0.0054367553, -0.018133752, 0.026695041, -0.02312222, 0.06422989, -0.037292164,
          -0.00019612597, -0.010570158, 0.016677659, 0.014412626, 0.0131587675, -0.015113708, -0.02731523,
          -0.0056625847, -0.025966994, -0.032923885, -0.022218904, -0.01156111, -0.0038862857, -0.019697705,
          -0.0052480022, 0.0037716858, -0.009363488, 0.037426986, 0.025778241, 0.009767958, -0.009525276,
          0.0046952264, -0.01196558, 0.009424158, 0.025670383, 0.002197622, 0.012929568, 0.009430899, -0.02243462,
          -0.024349114, 0.011810534, 0.036267504, -0.00083042815, -0.025292877, 0.01868653, -0.012181298,
          0.006201878, 0.038047176, 0.024537867, 0.020978527, 0.007792795, -0.011709416, 0.013199215, -0.013138545,
          0.022879537, -0.019859493, -0.021356033, -0.009255629, 0.0023594103, -0.03710341, -0.0064513017,
          -0.02203015, 0.00011586389, 0.0048570144, 0.0015403578, 0.017621424, 0.004462656, -0.012828451,
          0.022448104, 0.016097918, -0.004162674, -0.0051334025, 0.016664177, 0.018025894, 0.0020779662,
          -0.025966994, -0.011075745, -0.009194959, 0.027193889, 0.0080219945, 0.00592549, -0.0030571215,
          -0.0064850077, 0.009761217, -0.031306002, -0.0057434784, -0.01650239, 0.008669147, 0.002190881,
          0.028366853, 0.030038662, -0.019657258, 0.034245156, -0.002421766, 0.0015159211, -0.03979988, -0.0449771,
          0.016313637, 0.025373772, -0.010549935, 0.008635442, 0.009437641, 0.0011451566, 0.0058648195, 0.0022633485,
          0.013900297, 0.008062442, 0.01736526, -0.011891427, 0.03030831, 0.036483224, 0.008217488, 0.022461586,
          -0.009855594, 0.0010811154, -0.022286315, -0.0048165675, 0.0076849363, 0.011689193, -0.0006442033,
          0.009761217, 0.000106120795, 0.021126833, 0.039179694, 0.009808405, -0.020776292, -0.017459637,
          -0.024699654, -0.0019515693, -0.025117608, 0.007374842, 0.009808405, 0.016367566, -0.01369132,
          -0.0028110687, -0.011601557, 0.00184034, -0.0092017, -0.0012690256, -0.0055513554, 0.033328354,
          0.042253666, -0.005787296, 0.0016911916, 0.0077321245, -0.0069905953, -0.010913958, 0.00713216,
          0.004152562, 0.02145041, 0.02363455, -0.65836984, -0.0110622635, 0.014116014, -0.014614861, 0.007273725,
          0.025845654, 0.019023588, 0.021585234, -0.04009649, -0.004739044, -0.0018386546, -0.00362338, -0.008696112,
          0.014385661, -0.01949547, -0.01576086, 0.0055142785, -0.012491392, 0.009248888, 0.0007718642, -0.012032992,
          -0.001215939, -0.003778427, 0.024672689, 0.03340925, -0.011743122, 0.010657793, -0.00013429679,
          -0.013873332, 0.027153442, -0.016731588, 0.01938761, -0.00038340417, 0.019185375, 0.044653524,
          0.0005232835, -0.022582926, 0.009046653, 0.024362596, 0.028906146, -0.0152485315, -0.0068186955,
          0.012477909, -0.012572286, -0.005301932, -0.027477017, 0.02852864, -0.0048401617, 0.0043210913,
          -0.010199393, -0.00511655, 0.0018858429, -0.012174557, 0.00810963, -0.00042469383, -0.020749327,
          0.012221745, -0.023445796, 0.019576363, 0.006872625, 0.0102331, -0.009997158, -0.020695398, -0.041444726,
          -0.024834478, 0.002381319, 0.004219974, 0.0019768488, 0.011999287, -0.030847603, -0.008379277, 0.022866055,
          -0.017230436, 0.012727333, 0.016893378, 0.0072669834, 0.041984018, -0.014223873, -0.037076447,
          -0.013644132, 0.005935602, -0.0057535903, -0.018848317, -0.005325526, -0.0038087622, -0.002307166,
          0.009558982, 0.0012521727, 0.0055580963, 0.014938437, 0.023135703, 0.008507359, 0.0139137795, 0.0028666835,
          -0.001561424, 0.011898168, 0.008541065, 0.034460872, -0.00044786662, -0.030820638, 0.00025279395,
          -0.01621926, -0.016960789, -0.004691856, 0.028771322, -0.00024394617, -0.023958126, 0.0065894956,
          0.038343787, 0.0043581678, -0.008372536, -0.00460085, -0.02639843, 0.0014383976, 0.015774343, -0.021922292,
          0.022744715, -0.0118240155, 0.013489085, 0.0032778948, 0.013192474, 0.0045300676, 0.022111045,
          -0.0039166207, -0.0125857685, 0.018834835, 0.027800594, -0.0059086373, -0.012734074, -0.010185911,
          0.0274905, -0.025576007, 0.017607942, -0.019117964, 0.027692735, -0.002076281, 0.0073883245, -0.019630292,
          0.04319743, -0.027234334, -0.035000164, -0.0055479845, -0.008824194, -0.018875282, 0.0052210377,
          -0.012349827, -0.020452715, 0.014129497, -0.018039376, 0.016542837, -0.017176507, 0.007010819,
          -0.012174557, 0.014304767, -0.013873332, 0.0022852572, 0.005871561, -0.020061728, -0.008143336,
          -0.008204007, 0.015801307, 0.005608655, -0.0076512303, 0.008298383, -0.010981369, -0.00015915486,
          -0.0032644125, 0.018362952, 0.0033975507, -0.040743645, -0.006124355, 0.022407657, -0.020735845,
          0.0137250265, 0.009498311, 0.014480038, -0.02979598, 0.00035749277, 0.007401807, -0.0043008677,
          0.010388146, 0.023203114, -0.031386897, 0.018902246, 0.024187325, -0.015450766, 0.024200808, 0.02812417,
          -0.021693092, 0.023041327, -0.019535916, 0.04457263, 0.009060135, 0.0150597785, -0.015383354, 0.01558559,
          0.011635263, 0.031090286, -0.006067055, 0.024308667, 0.0031734067, 0.018834835, 0.0057569607, -0.017230436,
          0.026317535, -0.024106432, -8.06834e-05, 0.0063131074, 0.022919985, 0.018376434, -0.0008948906,
          -0.031306002, -0.010462299, 0.010819581, 0.0031599244, 0.0051569967, -0.019198857, 0.027477017,
          -0.009046653, -0.027800594, 0.024524383, -0.0015563681, 0.031386897, 0.013873332, -0.022677302,
          -0.0071523837, 0.0033048596, 0.00079419435, -0.005797408, -0.01553166, -0.02053361, 0.0006075481,
          0.016718106, 0.013441897, 0.025549043, 0.023621067, 0.02761184, 0.00396718, -0.011304946, -0.0046514086,
          0.01995387, 0.017189989, 0.020102175, -0.028312923, 0.007091713, 0.009511794, 0.03443391, 0.015963096,
          0.0074961833, 0.0150597785, -0.018875282, 0.0077860537, 0.008426465, 0.030389203, 0.021531304, 0.005268226,
          -0.017513566, -0.0088444175, 0.036267504, 0.049668957, 0.013192474, -0.021558268, 0.010772393, -0.01472272,
          0.021436928, 0.016731588, -0.0034986683, 0.0008169458, 0.01207344, -0.00026501232, -0.010475782,
          -0.0032947478, 0.0030992539, 0.018039376, -0.004341315, -0.015194601, -0.0069973366, -0.0086287,
          0.0057569607, -0.0015572107, -0.03400247, -0.039611127, 0.029607227, 0.01179031, 0.00069139147,
          -0.017500082, -0.031252075, 0.0251985, -0.03950327, 0.006859143, 0.013428415, 0.0056929197, 0.009424158,
          -0.022205422, -0.0037582035, -0.008318607, 0.036618046, -0.0034245155, -0.002007184, 0.014560931,
          0.0034548508, 0.005237891, 0.008278159, 0.01713606, 0.022609891, 0.0076107834, 0.002650966, 0.0010819581,
          -0.017324813, -0.012659921, 0.00060207094, 0.005015432, -0.011945357, 0.01230938, 0.0038492093,
          -0.004762638, -0.0104285935, -0.017338295, 0.035242848, -0.009430899, 0.003237448, -0.016461942,
          -0.01369132, 0.023216596, 0.04370976, 0.0049783555, 0.008089406, 0.03065885, -0.013677838, 0.0102398405,
          -0.03330139, 0.012329604, -0.0060198666, 0.023014361, -0.03847861, 0.008965759, 0.031494755, -0.0050862143,
          0.030227415, -0.031818334, -0.0075029247, -0.0064344485, 0.019090999, -0.009896041, -0.01133191,
          0.003105995, 0.00994997, 0.012963274, -0.019751634, -0.0002666976, 0.026492806, 0.016205778, -0.0022330133,
          -0.013354261, -0.009363488, 0.0034784449, 0.014480038, 0.012275674, 0.008581512, -0.019765116,
          -0.0020695399, -0.010981369, 0.014749684, -0.0067108367, -0.0030958832, 0.019913422, 0.019508952,
          0.006114243, 0.009296076, -0.009363488, 0.0077321245, 0.009916265, 0.004108744, 0.0027065806, 0.0112510165,
          3.252089e-05, -0.009363488, 0.0001356661, -0.018201165, 0.005854708, 0.005430014, -0.018592153,
          -0.007341136, -0.040797573, -0.0053524906, -0.006771507, 0.01208018, -0.01086677, -0.016097918,
          -0.009565723, 0.0012049845, 0.012808227, -0.030470097, -0.015801307, 0.006033349, -0.013772215,
          -0.009275853, 0.027638806, 0.014345214, 0.018996622, 0.0038626916, -0.005281708, -0.00042132326,
          0.028555606, -0.018093307, -0.008177042, 0.001084486, -0.008898347, -0.02386375, 0.009727512,
          -0.0006610562, -0.04249635, 0.008723076, 0.020520128, 0.010401629, -0.007779313, 0.020102175,
          -0.0055715786, -0.010260064, -0.0071051954, 0.0013044168, 0.011136416, -0.0029762276, -0.006936666,
          0.02173354, -0.008143336, -0.01983253, -0.0005363445, 0.013583462, 0.023890713, 0.0019431429, -0.017473118,
          -0.007078231, -0.0023021102, -0.0067546545, 0.004513215, 0.015342908, 0.016610248, -0.007563595,
          0.00078913843, -0.0026593923, 0.013509309, 0.014372179, 0.0013271682, -0.009687064, -0.0113790985,
          0.017729282, 0.020007798, -0.007637748, 0.021868363, 0.0040244795, -0.0022330133, 0.0070175603,
          -0.0068759955, -0.028771322, 0.025225466, -0.026883794, -0.032222804, -0.00019717928, -0.00037013247,
          -0.017688835, 0.0034262007, -0.00048157247, -0.021490857, -0.025899583, -0.008763524, -0.011999287,
          -0.0036941622, 0.0050356556, -0.028285958, -0.008372536, -0.00031536046, 0.0082849, 0.033031743,
          0.016421495, 0.027800594, -0.016475424, -0.014951919, 0.004513215, -0.0013768844, -0.011540887,
          0.0015504695, -0.0034464241, 0.01627319, 0.026479324, 0.017500082, 0.025454666, -0.01190491, 0.008048959,
          0.026600664, 0.02674897, 0.0008266362, -0.025670383, 0.014668791, 0.03243852, 0.02370196, 0.021315586,
          0.0036436035, -0.009747735, 0.027584877, 0.0060434607, -0.0029374657, -0.017554011, -0.014574414,
          -0.0017762989, 0.00047946587, -0.0290949, -0.016286671, -0.03537767, -0.008554547, 0.010738687, 0.01213411,
          0.022798644, -0.018201165, -0.0007845039, -0.029715087, 0.016664177, 0.0048570144, 0.024874926, -0.0177158,
          0.018093307, -0.011439769, -0.032789063, 0.0010566787, 0.009484829, -0.0028734247, -0.013556497,
          0.013886814, -0.0011679081, 0.010071311, 0.013138545, -0.02088415, 0.01363065, -0.019333681, -0.022839092,
          -0.011891427, -0.0047693793, -0.020870669, 0.008332089, 0.01276778, -0.011069004, 0.014695755,
          -0.018012412, -0.004809826, 0.010347699, 0.007442254, 0.015113708, 0.006309737, 0.01910448, 0.01104204,
          -0.009767958, -0.03365193, -0.016866412, -0.0139137795, -0.011412804, 0.018956175, 0.016677659,
          0.007968065, -0.04578604, 0.007395066, -0.0013600314, -0.00061850256, -0.027530946, 0.02398509,
          0.006222102, 0.013819403, -0.020412268, 0.011628522, 0.012241969, 0.022016669, -0.02259641, -0.008992723,
          -0.022528997, 0.009882558, -0.020479681, 0.020924598, -0.030631887, 0.013765473, 0.0069973366, -0.02093808,
          0.02898704, -0.018416882, -0.013846368, 0.0013743564, 0.016515872, -0.00089404796, -0.0027706218,
          0.005554726, 0.009990417, 0.005153626, -0.013994673, -0.02697817, 0.005763702, 0.021382999, -0.0005687864,
          -0.030550992, 0.013300332, 0.0024571572, -0.00029239833, -0.01236331, -0.015855236, 0.016354084,
          -0.027571393, -0.016960789, 0.009417417, 0.018956175, -0.0042233444, -0.015275496, -0.003721127,
          0.014911473, -0.0013221124, 0.019589847, -0.008702853, -0.0027251188, 0.0034312566, 0.0052311495,
          -0.0018167458, -0.0028784804, 0.00038445747, 0.016825965, 0.012976756, 0.024012055, -0.034137294,
          -0.0017611312, 0.006538937, -0.003122848, -0.017675353, 0.0096601, -0.0041660443, -0.026384948,
          0.002266719, -0.014560931, -0.031036356, -0.02104594, -0.0026273718, -0.00037876962, -0.019333681,
          -0.01236331, -0.004297497, 0.009889299, -0.018322505, -0.005561467, -0.034649625, -0.002345928,
          -0.017918035, 0.0038053917, 0.023594102, 0.0014586211, 0.029634193, -0.012356568, -0.006158061,
          0.015963096, -0.03254638, -0.010185911, 0.018025894, 0.029364545, -0.005423273, -0.022731232, -0.018659564,
          -0.011648745, -0.019711187, 0.029526334, 0.00408515, -0.02386375, 0.009296076, 0.00793436, 0.00052960333,
          0.025791725, -0.0030571215, -0.024012055, -0.007556854, 0.009134288, -0.03203405, -0.022987397,
          7.668083e-05, 0.055115823, -0.0047019674, -0.03071278, -0.0017982076, 0.0044188383, -0.02939151,
          -0.0075770775, -0.0281781, 0.01805286, 0.018794388, 0.014196908, -0.022677302, 0.0005961724, 0.0048738676,
          -0.012700368, -0.025805207, 0.004712079, 0.008150077, -0.010940922, 0.00136593, -0.014237355, -0.015895683,
          -0.0066906135, 0.03168351, 0.012444204, 0.018592153, 0.024092948, -0.023108738, 0.009875817, 0.004641297,
          0.007853465, -0.011345393, 0.009309558, 0.012255451, -0.030793674, 0.00575022, 0.012403756, -0.0055580963,
          -0.010549935, 0.016434977, 0.0071051954, -0.02898704, 0.0099230055, 8.047274e-05, -0.022218904,
          -0.01690686, -0.020978527, 0.038613435, 0.016704625, -0.010401629, 0.0130306855, -0.00781976, -0.009451123,
          -0.021747021, -0.0032896919, -0.01697427, -0.022919985, -0.0050558792, -0.0077860537, -0.015963096,
          -0.022771679, 0.033490144, -0.01363065, 0.0083388295, -0.010967887, -0.0064715254, 0.013253144,
          -0.005423273, 0.013529533, -0.020614505, 0.006532196, 0.0009909522, 0.02243462, -0.02122121, -0.0044963616,
          0.001613668, -0.02738264, 0.0034481096, 0.0078332415, -0.021180762, -0.007287207, -0.023149185,
          -0.03289692, -0.023782855, 0.01983253, 0.18637992, -0.0003446424, 0.01443959, 0.009990417, 0.005423273,
          0.022528997, 0.009134288, 0.012181298, -0.00868263, 0.009936487, -0.03203405, 0.016556319, 0.02266382,
          -0.0032391332, -0.006158061, -0.024524383, -0.040339172, -0.015572107, -0.015154155, -0.005561467,
          0.0002744921, 0.013886814, -0.008298383, -0.0078062774, 0.009882558, -0.01115664, -0.03456873,
          -0.005588432, 0.033975508, 0.032168873, 0.0059322314, -0.029876875, 0.0069636307, 0.009801664,
          -0.027692735, 0.0130913565, 0.028447745, -0.0074220304, 0.030092591, 0.012484651, -0.0042873854,
          -0.0003233656, 0.0143586965, -0.002030778, -0.016960789, 0.0065456782, -0.022906503, -0.009680323,
          0.030227415, -0.02025048, -0.025117608, -0.0012858786, 0.025441183, 0.00534912, 0.0028380335, -0.004907573,
          0.0047693793, 0.021585234, 0.010880251, 0.021032456, -0.005470461, 0.02289302, -0.00753663, 0.028285958,
          -0.018996622, 0.0068355487, -0.0025279396, 0.002576813, 0.03243852, -0.019198857, 0.014951919, 0.01615185,
          -0.023445796, 0.02002128, -0.008433206, -0.0038155033, 0.021126833, 0.034460872, 0.018956175, 0.0018437105,
          -0.022070598, 0.0041660443, -0.01092744, -0.00048536438, -0.0043750205, -0.031845298, 0.018740458,
          -0.0020038134, -0.015302461, -0.0058243726, -0.008298383, 0.0047929734, -0.00290376, -0.0013212698,
          0.0075029247, 0.006373778, -0.004813197, 0.007914136, -0.042469382, 0.010401629, -0.0135969445,
          0.025400735, 0.021194246, -0.0010524655, -0.017243918, -0.009680323, 0.025090642, 0.021248175, 0.038289856,
          -0.015558626, 0.01754053, -0.029580263, -0.012720591, -0.0072669834, 0.006538937, 0.016556319,
          -0.0054670908, -0.026142266, -0.015841754, 0.005763702, -0.025683865, -0.017918035, 0.0072602425,
          -0.011857722, 0.0012285786, 0.012093662, -0.02122121, 0.0006244011, 0.0042132325, -0.04797018, 0.018066341,
          -0.0065793837, 0.0073074307, 0.011662228, -0.010199393, 0.021072904, 0.023594102, -0.029283652, 0.00448625,
          -1.2909608e-05, 0.0038862857, 0.0023914308, 0.02939151, 0.002979598, -0.026708523, -0.00047946587,
          -0.012039733, 0.030524027, -0.044653524, -0.01454745, -0.004118856, -0.047484815, 0.003025101, -0.02312222,
          0.030497063, 0.0014796873, -0.02691076, -0.02801631, 0.021612197, 0.007759089, -0.031198144, -0.0082849,
          0.011985804, 0.027193889, -0.030604921, -0.00632659, -0.17343688, 0.01720347, 0.01834947, -0.019980835,
          -0.024065984, 0.0031565537, 0.0037312387, 0.0032846362, -0.013003721, -0.009114064, 0.010779134,
          -0.015154155, -0.01558559, -0.018700011, 0.011480216, -0.0076107834, -0.009296076, 0.015302461,
          0.024834478, 0.005642361, 0.026371466, -0.021895327, 0.012673403, 0.028205063, 0.0097949235, 0.021369515,
          -0.021369515, 0.026870312, 0.010691499, -0.023971608, 0.009869076, 0.012814968, 0.03456873, 0.009302817,
          0.003721127, -0.0023223339, -0.005281708, -0.014453073, -0.0021993073, 0.022191938, 0.03440694,
          0.0135969445, 0.010118499, -0.00023699432, -0.008473653, 0.0087433, 0.041606516, -0.014776649, 0.004560403,
          0.019711187, -0.0017847253, 0.0012319492, 0.019279752, -0.0025683865, 0.02018307, 0.021814432, 0.009370229,
          0.017284365, -0.005814261, -0.013448638, -0.04219974, -0.021436928, 0.018511258, -0.008493877,
          0.0014813725, -0.014021638, -0.0011181919, 0.016408013, -0.026209677, 0.012127369, -0.00020328847,
          -0.011035299, 0.0011670655, 0.013475603, -0.0035020388, 0.0041694148, -0.014426108, 0.019428058,
          0.018484294, 0.011365616, -0.0059558256, 0.037723597, -0.02571083, 0.016286671, -0.009181476,
          -0.0019026959, 0.023728926, 0.0021217838, -0.023337938, 0.017918035, 0.019293234, -0.015046296,
          -0.016704625, -0.0019178635, 0.036591083, 0.014763167, -0.0029694864, 0.012356568, -0.0047188206,
          0.005510908, 0.006474896, -0.005585061, -0.03990774, 0.015450766, 0.06228843, -0.011372358, 0.005446867,
          0.00891857, 0.0115071805, -0.0127138505, 0.0008814082, -0.004176156, 0.01224871, 0.011426287, -0.028744359,
          0.014857544, 0.0059794197, -0.032330662, 0.042118844, 0.0022515515, 0.023391867, -0.013994673, 0.001966737,
          0.020668434, 0.016596766, 0.01512719, -0.066387065, -0.010185911, -0.005642361, 0.006397372, -0.026304053,
          0.010078052, -0.016960789, 0.010313993, -0.0038694327, 0.0074624773, -0.033328354, -0.014345214,
          -0.029984733, -0.0020611132, 0.018228129, -0.016421495, 2.8913308e-05, -0.004331203, 0.018228129,
          0.0042806445, -7.173028e-05, -0.028285958, 0.00043227765, 0.004557032, -0.0035863034, 0.009282594,
          -0.011426287, 0.0013322241, 0.022218904, 0.029930804, 0.0054502375, -0.01650239, 0.00033832257,
          -0.012579027, 0.0101791695, -0.018443847, -0.018322505, -0.012814968, 0.047188204, -0.02093808,
          0.014560931, 0.012410498, -0.0184034, -0.0027166924, 0.007920877, -0.011743122, -0.021140317, 0.013495826,
          -0.026452359, 0.0056895493, -0.00902643, -0.004560403, -0.012646439, -0.03653715, 0.014062085,
          -0.0038896564, 0.02456483, -0.006859143, -0.018416882, 0.015693448, -0.005976049, 0.00018517156,
          -0.005676067, 0.030550992, 0.008244453, -0.00016789732, -0.0261153, -0.0174866, 0.017095612, -0.015410319,
          0.008156818, 0.014763167, -0.011958839, 0.013394709, -0.042064913, -0.022299796, -0.035970893,
          -0.009498311, 0.029715087, 0.0051974435, -0.0056052846, -0.017796693, -0.018093307, -0.0007735495,
          0.014331732, 0.028043276, 0.010266805, -0.008069183, 0.01196558, -0.03979988, 0.00025827115, 0.007024301,
          0.006046831, 0.0012058271, -0.003802021, -0.0017931517, -0.009275853, 0.006201878, -0.002514457,
          -0.01875394, -0.05101719, -0.0023830044, -0.06147949, 0.007125419, -0.0020729103, 0.013590203, -0.01615185,
          -0.023081774, 0.017122578, -0.016718106, -0.011628522, -0.008136595, -0.03847861, 0.02312222,
          -0.0053693433, 0.006343443, -0.030443134, 0.0009167994, 0.015855236, 0.004641297, 0.0025717572,
          0.003721127, -0.016637214, 0.0077860537, -0.009599429, -0.016354084, -0.04066275, -0.008150077,
          -0.014399144, -0.0045806263, -0.016637214, 0.011864463, 0.028825251, -0.02093808, -0.025319843, 0.0445187,
          -0.019643776, -0.04583997, -0.01621926, 0.018848317, -0.0018437105, 0.006707466, -0.027220853,
          -0.029256687, 0.0052951905, -0.023998573, -0.01662373, -0.006528825, -0.0006707466, 0.004557032,
          0.022097562, 0.0036671977, 0.026951207, 0.024794031, -0.018659564, -0.0012007713, -0.02243462,
          -0.026668077, 0.000488735, -0.0037716858, -0.016017025, 0.021949256, 0.025468148, 0.01299698, 0.028339887,
          -0.0026526512, -0.0027133217, -0.02898704, 0.0070310426, 0.009612911, -0.006377149, -0.017580977,
          -0.009869076, -0.002030778, 0.019711187, 0.0130306855, 0.009282594, 0.021072904, 0.0016515872, 0.005028914,
          0.013657615, 0.028663464, 0.040527925, -0.006168172, -0.060346972, 0.0008822509, 0.0002163495, 0.012666662,
          -0.011945357, -0.0024116542, -0.02294695, 0.008150077, -0.023796337, 0.04859037, -0.0154372845,
          -0.009255629, 0.007846724, -0.009430899, -0.012875639, -0.015383354, 0.0052210377, 0.03812807, 0.009060135,
          0.017648388, -0.014210391, -0.037939318, -0.017783212, -0.00086876855, -0.028744359, -0.031198144,
          0.011459992, 0.00788043, 0.024928855, 0.0048738676, 0.019401094, 0.010435334, 0.0059457137, 0.0057266257,
          0.0029054452, -0.024173843, -0.038397714, 0.020277446, -0.006286143, 0.024591796, -0.0023745778,
          0.007799536, 0.025805207, 0.018821353, -0.009464606, -0.0027959011, -0.00172574, -0.0274905, -0.015963096,
          -0.029148828, -0.016664177, -0.023108738, -0.042064913, -0.008830936, -0.0068321778, -0.01847081,
          -0.006377149, 0.08084013, 0.008750041, -0.014992367, -0.003191945, 0.0088444175, 0.028744359, 0.010482523,
          -0.007920877, -0.004118856, -0.027827559, 0.006626572, -0.0034750742, 0.012140851, -0.0039199917,
          -0.030335274, -0.027342195, -0.03227673, 0.0049547614, 0.0005814261, 0.012693627, 0.009194959,
          -0.010313993, 0.004064927, -0.010260064, -0.020385304, 0.0074557364, 0.014844061, 0.002979598,
          -0.018416882, -0.011170122, -0.0006083908, -0.002777363, -0.02421429, -0.014399144, 0.006168172,
          -0.009242147, -0.0068861074, -6.361981e-05, 0.0089050885, -0.005332267, -0.005160367, 0.046487123,
          -0.022650339, -0.022340244, -0.014641826, 0.01236331, -0.0019043811, -0.013684579, -0.038101103]

with Database() as db:
    collab_engine = CollaborativeEngine(db, "test")
    recs = collab_engine.get_items_seen_by_others(external_item_ids=["40451490"], filters={
        "price": {
            "gte": 100000
        }
    })
    for item in recs:
        print(item)

    # collab_engine = SimilarityEngine(db, "test")
    # recs = collab_engine.get_similar(external_item_ids=["40451490"])
    # for item in recs:
    #     print(item)
    #
    # filters = {
    #     "area": "90",
    #     "price": {
    #         "gte": 90,
    #         "lte": 120
    #     },
    #     "category": {
    #         "contains": ["12"]
    #     },
    #     "brand": {
    #         "in": ["bmw", "opel"]
    #     },
    #     "or": [
    #         {
    #             "area": 100,
    #             "price": {
    #                 "gte": 100,
    #                 "lte": 200
    #             }
    #         },
    #         {
    #             "price": {
    #                 "gte": 300
    #             }
    #         }
    #     ]
    # }
